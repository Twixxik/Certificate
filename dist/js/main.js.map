{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/index.js"],"names":["window","performance","now","offset","Date","requestAnimate","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","time","delay","Math","max","lastTimeAnimate","setTimeout","bind","undefined","cancelAnimate","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","id","clearTimeout","Slider","index","firstElementChild","querySelector","pos","current","progress","animation","entity","from","to","min","offsetWidth","Hammer","Manager","add","Pan","direction","DIRECTION_HORIZONTAL","threshold","on","ev","stop","isPan","preventDefault","eventType","INPUT_CANCEL","deltaX","style","transform","type","animate","abs","overallVelocityX","velocityX","goTo","i","classList","remove","children","Element","parentElement","offsetLeft","Animate","duration","timing","timeFraction","pow","sqrt","event","resizeTimer","animateId","startTime","stopTime","t","start","Inputmask","extendAliases","mask","jitMasking","autoUnmask","oncomplete","onincomplete","value","alias","greedy","rightAlign","groupSeparator","unmaskAsNumber","SetMaxOnOverflow","preset","nextElementSibling","inputmask","unmaskedvalue","required","inputmode","onUnMask","mValue","uValue","onBeforePaste","pastedValue","opts","replace","extendDefaults","showMaskOnHover","removeMaskOnSubmit","Certificate","el","HTMLFormElement","form","document","String","noValidate","onsubmit","submit","addEventListener","refreshCheckout","config","newItemOnStart","maxItems","itemType","param","startIndex","types","name","img","class","itemNominal","presets","recipient","placeholder","title","regexp","datetime","toggle","label","checked","timezone","sender","policy","text","link","target","url","init","items","isValid","createItem","appendChild","createElement","className","addBtn","innerText","senderHeadline","length","v","field","checkbox","input","pattern","checkout","checkoutBtn","policyLink","href","innerHTML","outerHTML","fieldset","item","insertBefore","design","designHeadline","typesWrap","radio","src","alt","info","nominal","nominalHeadline","nominalField","nominalInput","e","dataset","presetsWrap","disabled","recipientHeadline","spellcheck","rows","datetimeFieldCheckbox","datetimeLabel","datetimeCheckbox","datetimeField","datetimeInput","Flatpickr","enableTime","minDate","maxDate","defaultDate","dateFormat","time_24hr","disableMobile","locale","Russian","altInput","altFormat","monthSelectorType","timezoneInput","Intl","DateTimeFormat","resolvedOptions","timeZone","action","save","tabIndex","saveItem","code","edit","editItem","removeItem","push","validateItem","removeChild","splice","indexOf","querySelectorAll","validity","valid","Event","format","validate"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/js/index.js\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\r\nimport \"./import/modules\";\r\nimport \"./import/components\";\r\n\r\nimport Flatpickr from \"flatpickr\";\r\nimport {Russian} from \"flatpickr/dist/l10n/ru.js\";\r\nimport Inputmask from \"inputmask\";\r\nimport Hammer from \"hammerjs\";\r\n\r\n\r\n// Полифилы\r\n//====================//\r\nwindow.performance = window.performance || {};\r\nwindow.performance.now = window.performance.now || (function () {\r\n    window.performance.offset = +new Date();\r\n    return function () {\r\n        return +new Date() - window.performance.offset;\r\n    };\r\n})();\r\nwindow.requestAnimate = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame\r\n    || function (/* Function */ callback, /* DOMElement */ element) {\r\n        let time = performance.now();\r\n        let delay = Math.max(0, 16 - time - window.lastTimeAnimate || 0);\r\n        return window.setTimeout(callback.bind(undefined, window.lastTimeAnimate = time + delay), delay);\r\n    };\r\n\r\nwindow.cancelAnimate = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame\r\n    || function cancelAnimate(/* number */ id) {\r\n        return window.clearTimeout(id);\r\n    };\r\n//====================//\r\n\r\n\r\n// Слайдер\r\n//====================//\r\nwindow.Slider = class Slider {\r\n    constructor(element) {\r\n        element.Slider = this;\r\n        this.element = element;\r\n\r\n        this.index = this.element.firstElementChild.querySelector(\"._active\") || this.element.firstElementChild.firstElementChild;\r\n\r\n        this.pos = {\r\n            current: 0,\r\n            progress: 0\r\n        };\r\n        this.animation = {\r\n            entity: null,\r\n            from: 0,\r\n            to: 0\r\n        };\r\n\r\n        this.max = [Math.min(this.element.offsetWidth - this.element.firstElementChild.offsetWidth, 0), 0];\r\n\r\n        this.Hammer = new Hammer.Manager(this.element);\r\n        this.Hammer.add(new Hammer.Pan({direction: Hammer.DIRECTION_HORIZONTAL, threshold: 2}));\r\n\r\n        Hammer.on(this.element, \"touchstart mousedown pointerdown\", (function (ev) {\r\n            this.animation.entity && this.animation.entity.stop();\r\n        }).bind(this));\r\n        Hammer.on(this.element, \"click\", (function (ev) {\r\n            this.isPan && ev.preventDefault();\r\n        }).bind(this), false);\r\n\r\n\r\n        this.Hammer.on(\"panleft panright panend panstart\", (function (ev) {\r\n\r\n            if (ev.eventType === Hammer.INPUT_CANCEL) {\r\n                return;\r\n            }\r\n\r\n            this.isPan = true;\r\n\r\n            this.pos.progress = Math.min(Math.max(this.pos.current + ev.deltaX, this.max[0]), this.max[1]);\r\n\r\n            if (this.pos.progress <= this.max[0] || this.pos.progress >= this.max[1]) {\r\n                this.pos.progress += 20 * (ev.deltaX / this.element.offsetWidth);\r\n            }\r\n\r\n            this.element.firstElementChild.style.transform = \"translate3d(\" + this.pos.progress + \"px, 0, 0)\";\r\n\r\n            if (ev.type === \"panend\") {\r\n                this.animate(\r\n                    this.pos.progress,\r\n                    Math.min(Math.max(this.pos.current + (ev.deltaX * Math.max(Math.abs(ev.overallVelocityX * 1.1), 1.1) * Math.max(Math.abs(ev.velocityX * 1.1), 1.1)), this.max[0]), this.max[1])\r\n                );\r\n                setTimeout((function () {\r\n                    this.isPan = false;\r\n                }).bind(this), 10);\r\n            }\r\n        }).bind(this));\r\n\r\n        this.goTo(this.index);\r\n    }\r\n\r\n    goTo(i) {\r\n        this.animation.entity && this.animation.entity.stop();\r\n        this.index && this.index.classList.remove(\"_active\");\r\n\r\n        this.index = this.element.firstElementChild.children[i] || i;\r\n\r\n        if (this.index instanceof Element && this.index.parentElement === this.element.firstElementChild) {\r\n            this.animate(\r\n                this.pos.current,\r\n                Math.min(Math.max(-this.index.offsetLeft + ((this.element.offsetWidth - this.index.offsetWidth) / 2), this.max[0]), this.max[1])\r\n            );\r\n            this.index.classList.add(\"_active\");\r\n        }\r\n    };\r\n\r\n    animate(from, to) {\r\n        this.animation.entity && this.animation.entity.stop();\r\n        this.animation.from = from;\r\n        this.animation.to = to;\r\n\r\n        this.animation.entity = new Animate({\r\n            duration: 600,\r\n            timing: (function (timeFraction) {\r\n                if (this.animation.to <= this.max[0] && this.animation.from >= this.max[0] || this.animation.to >= this.max[1] && this.animation.from <= this.max[1]) {\r\n                    return 1 + 2 * Math.pow(timeFraction - 1, 3) + Math.pow(timeFraction - 1, 2);\r\n                }\r\n                return Math.sqrt(1 - Math.pow(timeFraction - 1, 2));\r\n            }).bind(this),\r\n            callback: (function (progress) {\r\n                this.pos.current = this.animation.from + (this.animation.to - this.animation.from) * (progress || 0);\r\n                this.element.firstElementChild.style.transform = \"translate3d(\" + this.pos.current + \"px, 0, 0)\";\r\n            }).bind(this)\r\n        });\r\n    }\r\n\r\n    onResize(event) {\r\n        this.resizeTimer && clearTimeout(this.resizeTimer);\r\n        this.resizeTimer = setTimeout((function () {\r\n            this.max = [Math.min(this.element.offsetWidth - this.element.firstElementChild.offsetWidth, 0), 0];\r\n            this.goTo(this.index);\r\n        }).bind(this), 150);\r\n    }\r\n};\r\n//====================//\r\n\r\n\r\n\r\n// Анимации\r\n//====================//\r\nwindow.Animate = class Animate {\r\n    constructor({timing, callback, duration}) {\r\n        this.animateId = null;\r\n        this.startTime = performance.now();\r\n        this.stopTime = null;\r\n        this.timing = timing || function (t) {\r\n            return t;\r\n        };\r\n        this.callback = callback;\r\n        this.duration = duration || 300;\r\n        this.start();\r\n    }\r\n\r\n    animate(time) {\r\n        let timeFraction = (time - this.startTime) / this.duration;\r\n        if (timeFraction > 1) timeFraction = 1;\r\n\r\n        let progress = this.timing(timeFraction);\r\n\r\n        this.callback(progress);\r\n\r\n        if (timeFraction < 1) {\r\n            this.animateId = requestAnimate(this.animate.bind(this));\r\n        } else {\r\n            this.animateId = null;\r\n        }\r\n    }\r\n\r\n    start() {\r\n        this.stopTime && (this.startTime += performance.now() - this.stopTime);\r\n        !this.animateId && (this.animateId = requestAnimate(this.animate.bind(this)));\r\n    }\r\n\r\n    stop() {\r\n        this.animateId && cancelAnimate(this.animateId);\r\n        this.stopTime = performance.now();\r\n        this.animateId = null;\r\n    }\r\n};\r\n//====================//\r\n\r\n\r\n\r\n// Маски для полей ввода\r\n//====================//\r\nInputmask.extendAliases({\r\n    \"name\": {\r\n        mask: \"a{2,+}[ ][-]a{*}\",\r\n        jitMasking: true,\r\n        autoUnmask: true,\r\n        oncomplete(event) {\r\n            this.classList.remove(\"_error\", \"_empty\");\r\n        },\r\n        onincomplete(event) {\r\n            this.classList.add(\"_error\") || this.value || this.classList.add(\"_empty\");\r\n        }\r\n    },\r\n    \"nominal\": {\r\n        alias: \"numeric\",\r\n        greedy: true,\r\n        rightAlign: false,\r\n        groupSeparator: \" \",\r\n        unmaskAsNumber: false,\r\n        min: 1000,\r\n        max: 50000,\r\n        SetMaxOnOverflow: true,\r\n        oncomplete: function () {\r\n            let preset = this.parentElement.nextElementSibling.querySelector(`.cert__preset[data-value=\"${this.inputmask.unmaskedvalue()}\"]`);\r\n            preset || this.parentElement.nextElementSibling.Slider && this.parentElement.nextElementSibling.Slider.index && this.parentElement.nextElementSibling.Slider.index.classList.remove('_active');\r\n            this.parentElement.nextElementSibling.Slider && this.parentElement.nextElementSibling.Slider.goTo(preset);\r\n        },\r\n    },\r\n    \"email\": {\r\n        required: true,\r\n        inputmode: \"email\",\r\n        oncomplete(event) {\r\n            this.classList.remove(\"_error\", \"_empty\");\r\n        },\r\n        onincomplete(event) {\r\n            this.classList.add(\"_error\") || this.value || this.classList.add(\"_empty\");\r\n        }\r\n    },\r\n    \"tel\": {\r\n        mask: \"+7 (999) 999-99-99\",\r\n        inputmode: \"tel\",\r\n        onUnMask(mValue, uValue) {\r\n            return \"+7\" + uValue;\r\n        },\r\n        onBeforePaste(pastedValue, opts) {\r\n            return pastedValue = pastedValue.replace(/^(\\+7)|(7)|(8)/, \"\"), \"+\" + pastedValue;\r\n        },\r\n        oncomplete(event) {\r\n            this.classList.remove(\"_error\", \"_empty\");\r\n        },\r\n        onincomplete(event) {\r\n            this.classList.add(\"_error\") || this.value || this.classList.add(\"_empty\");\r\n        }\r\n    },\r\n});\r\n\r\nInputmask.extendDefaults({\r\n    showMaskOnHover: false,\r\n    removeMaskOnSubmit: true,\r\n});\r\n\r\n\r\n\r\nwindow.Certificate = class Certificate {\r\n    constructor(el, {}) {\r\n        if (el instanceof HTMLFormElement) {\r\n            this.form = el;\r\n        } else {\r\n            this.form = document.querySelector(String(el));\r\n        }\r\n        this.form.Certificate = this;\r\n        this.form.noValidate = true;\r\n        this.form.onsubmit = this.submit.bind(this);\r\n        this.form.addEventListener(\"change\", this.refreshCheckout.bind(this));\r\n\r\n        this.config = {\r\n            newItemOnStart: true,\r\n            maxItems: 0,\r\n            itemType: {\r\n                param: \"ITEMS[#INDEX#][TYPE]\",\r\n                required: true,\r\n                startIndex: 0,\r\n                types: [\r\n                    {\r\n                        name: \"Сертификат 1\",\r\n                        value: \"1\",\r\n                        img: \"./img/Сертификат 1.png\",\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"Сертификат 2\",\r\n                        value: \"2\",\r\n                        img: \"./img/Сертификат 2.png\",\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"Сертификат 3\",\r\n                        value: \"3\",\r\n                        img: \"./img/Сертификат 3.png\",\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"Сертификат 4\",\r\n                        value: \"4\",\r\n                        img: \"./img/Сертификат 4.png\",\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"Сертификат 5\",\r\n                        value: \"5\",\r\n                        img: \"./img/Сертификат 5.png\",\r\n                        class: \"\",\r\n                    },\r\n                ],\r\n            },\r\n            itemNominal: {\r\n                param: \"ITEMS[#INDEX#][NOMINAL]\",\r\n                required: true,\r\n                value: 1000,\r\n                min: 1000,\r\n                max: 50000,\r\n                class: \"_nominal\",\r\n                presets: [\r\n                    {\r\n                        name: \"1 000\",\r\n                        value: 1000,\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"2 000\",\r\n                        value: 2000,\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"3 000\",\r\n                        value: 3000,\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"5 000\",\r\n                        value: 5000,\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"10 000\",\r\n                        value: 10000,\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"20 000\",\r\n                        value: 20000,\r\n                        class: \"\",\r\n                    },\r\n                    {\r\n                        name: \"50 000\",\r\n                        value: 50000,\r\n                        class: \"\",\r\n                    },\r\n                ]\r\n            },\r\n            recipient: [\r\n                {\r\n                    type: \"text\",\r\n                    param: \"ITEMS[#INDEX#][NAME]\",\r\n                    placeholder: \"Имя\",\r\n                    title: \"Имя\",\r\n                    class: \"_name\",\r\n                    regexp: '^\\\\s?[A-Za-zА-Яа-яЁё]+\\\\s?-?[A-Za-zА-Яа-яЁё]+\\\\s?',\r\n                    required: true,\r\n                },\r\n                {\r\n                    type: \"text\",\r\n                    param: \"ITEMS[#INDEX#][PHONE]\",\r\n                    placeholder: \"+7 (000) 000-00-00\",\r\n                    title: \"Телефон\",\r\n                    class: \"_tel\",\r\n                    required: true,\r\n                    mask: \"tel\",\r\n                },\r\n                {\r\n                    type: \"text\",\r\n                    param: \"ITEMS[#INDEX#][EMAIL]\",\r\n                    placeholder: \"Email\",\r\n                    title: \"Email\",\r\n                    class: \"_email\",\r\n                    required: true,\r\n                    mask: \"email\",\r\n                },\r\n                {\r\n                    type: \"text\",\r\n                    param: \"ITEMS[#INDEX#][TEXT]\",\r\n                    placeholder: \"Текст поздравления\",\r\n                    class: \"_text\",\r\n                },\r\n            ],\r\n            datetime: {\r\n                type: \"datetime\",\r\n                param: \"ITEMS[#INDEX#][DATE]\",\r\n                class: \"_datetime\",\r\n                min: \"today\",\r\n                max: \"2022-10-25\",\r\n                toggle: {\r\n                    type: \"checkbox\",\r\n                    class: \"\",\r\n                    param: \"ITEMS[#INDEX#][USE_DATE]\",\r\n                    value: \"Y\",\r\n                    label: \"Отложенная отправка\",\r\n                    checked: false,\r\n                },\r\n                timezone: {\r\n                    param: \"ITEMS[#INDEX#][DATE_TIMEZONE]\",\r\n                }\r\n            },\r\n            sender: [\r\n                {\r\n                    type: \"text\",\r\n                    param: \"SENDER_NAME\",\r\n                    placeholder: \"Имя\",\r\n                    class: \"_name\",\r\n                    required: true,\r\n                    regexp: '^\\\\s?[A-Za-zА-Яа-яЁё]+\\\\s?-?[A-Za-zА-Яа-яЁё]+\\\\s?',\r\n                },\r\n                {\r\n                    type: \"text\",\r\n                    param: \"SENDER_PHONE\",\r\n                    placeholder: \"+7 (000) 000-00-00\",\r\n                    class: \"_tel\",\r\n                    required: true,\r\n                    mask: \"tel\",\r\n                },\r\n                {\r\n                    type: \"text\",\r\n                    param: \"SENDER_EMAIL\",\r\n                    placeholder: \"Email\",\r\n                    class: \"_email\",\r\n                    required: true,\r\n                    mask: \"email\",\r\n                },\r\n                {\r\n                    type: \"checkbox\",\r\n                    param: \"SENDER_ANON\",\r\n                    label: \"Отправить анонимно\",\r\n                    value: \"Y\",\r\n                    class: \"cert__switch\",\r\n                }\r\n            ],\r\n            policy: {\r\n                text: \"Нажимая на кнопку «Оформить», вы соглашаетесь с условиями #LINK#\",\r\n                link: {\r\n                    target: \"_blank\",\r\n                    text: \"Политики конфиденциальности\",\r\n                    url: \"https://visagehall.ru/about/policy/\",\r\n                }\r\n            }\r\n        };\r\n\r\n        this.init();\r\n\r\n    }\r\n\r\n    init() {\r\n        this.items = [];\r\n        this.isValid = false;\r\n\r\n        this.createItem();\r\n\r\n        this.add =  this.form.appendChild(document.createElement('div'));\r\n        this.add.className = \"cert__add\";\r\n\r\n        let addBtn = this.add.appendChild(document.createElement('div'));\r\n        addBtn.className = \"cert__btn _add\";\r\n        addBtn.innerText = \"Добавить сертификат\";\r\n        addBtn.addEventListener(\"click\", this.createItem.bind(this));\r\n\r\n        let sender = this.form.appendChild(document.createElement('div'));\r\n        sender.className = \"cert__sender\";\r\n\r\n        let senderHeadline = sender.appendChild(document.createElement('h4'));\r\n        senderHeadline.innerText = \"Ваши данные\";\r\n\r\n        for (let i = 0; i < this.config.sender.length; i++) {\r\n            let v = this.config.sender[i];\r\n            let field = sender.appendChild(document.createElement(\"div\"));\r\n            field.className = \"cert__field\";\r\n            if (v.type == \"checkbox\") {\r\n                field.innerText = v.label;\r\n                field.classList.add(\"_switch\");\r\n\r\n                let label = field.appendChild(document.createElement(\"label\"));\r\n                label.className = \"cert__switch\";\r\n                v.class && label.classList.add(v.class);\r\n\r\n                let checkbox = label.appendChild(document.createElement(\"input\"));\r\n                checkbox.type = \"checkbox\";\r\n                checkbox.value = v.value;\r\n                checkbox.checked = !!v.checked;\r\n                checkbox.required = !!v.required;\r\n                checkbox.name = v.param;\r\n                checkbox.addEventListener(\"change\", function () {\r\n                    (this.checked || label.classList.remove('_active')) && label.classList.add('_active');\r\n                });\r\n\r\n            } else {\r\n                let input = field.appendChild(document.createElement(\"input\"));\r\n                input.type = \"text\";\r\n                input.required = !!v.required;\r\n                input.className = \"cert__input\";\r\n                v.value && (input.value = v.value);\r\n                v.class && input.classList.add(v.class);\r\n                v.placeholder && (input.placeholder = v.placeholder);\r\n                input.name = v.param;\r\n\r\n                v.mask && Inputmask(v.mask).mask(input);\r\n\r\n                v.regexp && (input.pattern = v.regexp);\r\n            }\r\n        }\r\n\r\n        this.checkout = this.form.appendChild(document.createElement('div'));\r\n        this.checkout.className = \"cert__checkout\";\r\n        let checkoutBtn = this.checkout.appendChild(document.createElement('button'));\r\n        checkoutBtn.className = \"cert__btn _checkout\";\r\n\r\n        if (this.config.policy) {\r\n            let policy = this.checkout.appendChild(document.createElement('p'));\r\n            policy.className = \"cert__policy\";\r\n            let policyLink = document.createElement('a');\r\n            policyLink.innerText = String(this.config.policy.link.text);\r\n            policyLink.href = String(this.config.policy.link.url);\r\n            policyLink.target = String(this.config.policy.link.target);\r\n            policy.innerHTML = String(this.config.policy.text).replace(\"#LINK#\", policyLink.outerHTML);\r\n        }\r\n\r\n\r\n        this.refreshCheckout();\r\n\r\n    }\r\n\r\n    createItem() {\r\n        let fieldset = document.createElement(\"fieldset\");\r\n        fieldset.className = \"cert__fieldset\";\r\n        (this.items.length > 0 || fieldset.classList.add(\"_new\")) && fieldset.classList.add(\"_edit\");\r\n        let item = fieldset.appendChild(document.createElement(\"div\"));\r\n        item.className = \"cert__item\";\r\n\r\n        (this.form.firstElementChild || !this.form.appendChild(fieldset)) && this.form.insertBefore(fieldset, this.add);\r\n\r\n        let design = item.appendChild(document.createElement(\"div\"));\r\n        design.className = \"cert__design\";\r\n\r\n        let designHeadline = design.appendChild(document.createElement(\"h4\"));\r\n        designHeadline.innerText = \"Выберите дизайн\";\r\n\r\n        let types = design.appendChild(document.createElement(\"div\"));\r\n        types.className = \"cert__types slider\";\r\n\r\n        let typesWrap = types.appendChild(document.createElement(\"div\"));\r\n        typesWrap.className = \"slider__wrap\";\r\n\r\n        for (let i = 0; i < this.config.itemType.types.length; i++) {\r\n            let v = this.config.itemType.types[i];\r\n            let label = typesWrap.appendChild(document.createElement(\"label\"));\r\n            label.className = \"cert__type\";\r\n            v.class && label.classList.add(v.class);\r\n            label.title = v.name;\r\n\r\n            let radio = label.appendChild(document.createElement(\"input\"));\r\n            radio.type = \"radio\";\r\n            radio.name = this.config.itemType.param.replace(\"#INDEX#\", this.items.length);\r\n            radio.required = this.config.itemType.required;\r\n            radio.value = v.value;\r\n            radio.addEventListener(\"change\", function () {\r\n                this.checked && types.Slider && types.Slider.goTo(label);\r\n            });\r\n\r\n            let img = label.appendChild(document.createElement(\"img\"));\r\n            img.className = \"cert__img\";\r\n            img.src = v.img;\r\n            img.alt = v.name;\r\n\r\n            if (i == this.config.itemType.startIndex) {\r\n                label.classList.add(\"_active\");\r\n                radio.checked = true;\r\n            }\r\n        }\r\n\r\n        new Slider(types);\r\n\r\n\r\n        let info = item.appendChild(document.createElement(\"div\"));\r\n        info.className = \"cert__info\";\r\n\r\n\r\n        let nominal = info.appendChild(document.createElement(\"div\"));\r\n        nominal.className = \"cert__nominal\";\r\n\r\n        let nominalHeadline = nominal.appendChild(document.createElement(\"h4\"));\r\n        nominalHeadline.innerText = \"Номинал\";\r\n\r\n        let nominalField = nominal.appendChild(document.createElement(\"div\"));\r\n        nominalField.className = \"cert__field\";\r\n        this.config.itemNominal.class && nominalField.classList.add(this.config.itemNominal.class);\r\n\r\n        let nominalInput = nominalField.appendChild(document.createElement(\"input\"));\r\n        nominalInput.className = \"cert__input\";\r\n        nominalInput.type = \"text\";\r\n        nominalInput.name = this.config.itemNominal.param.replace(\"#INDEX#\", this.items.length);\r\n        nominalInput.required = this.config.itemNominal.required;\r\n        nominalInput.value = this.config.itemNominal.value || this.config.itemNominal.min || 0;\r\n        Inputmask(\"nominal\").mask(nominalInput);\r\n        nominalInput.addEventListener(\"change\", function (e) {\r\n            nominalField.dataset.value = nominalInput.value;\r\n        });\r\n\r\n        nominalField.dataset.value = nominalInput.value;\r\n\r\n        let presets = nominal.appendChild(document.createElement(\"div\"));\r\n        presets.className = \"cert__presets slider\";\r\n\r\n        let presetsWrap = presets.appendChild(document.createElement(\"div\"));\r\n        presetsWrap.className = \"slider__wrap\";\r\n\r\n        for (let i = 0; i < this.config.itemNominal.presets.length; i++) {\r\n            let v = this.config.itemNominal.presets[i];\r\n            let preset = presetsWrap.appendChild(document.createElement(\"div\"));\r\n            preset.className = \"cert__preset\";\r\n            v.class && preset.classList.add(v.class);\r\n            preset.dataset.value = v.value;\r\n            preset.innerText = v.name;\r\n            preset.addEventListener(\"click\", function () {\r\n                if (!fieldset.disabled) {\r\n                    nominalInput.value = preset.dataset.value;\r\n                    nominalField.dataset.value = nominalInput.value;\r\n                    presets.Slider && presets.Slider.goTo(preset);\r\n                    this.refreshCheckout();\r\n                }\r\n            }.bind(this));\r\n\r\n            if (nominalInput.value == preset.dataset.value) {\r\n                preset.classList.add(\"_active\");\r\n            }\r\n        }\r\n\r\n        new Slider(presets);\r\n\r\n        let recipient = info.appendChild(document.createElement(\"div\"));\r\n        recipient.className = \"cert__recipient\";\r\n\r\n        let recipientHeadline = recipient.appendChild(document.createElement(\"h4\"));\r\n        recipientHeadline.innerText = \"Данные получателя\";\r\n\r\n        for (let i = 0; i < this.config.recipient.length; i++) {\r\n            let v = this.config.recipient[i];\r\n            let field = recipient.appendChild(document.createElement(\"div\"));\r\n            field.className = \"cert__field\";\r\n            v.title && (field.title = v.title);\r\n\r\n            let input;\r\n            if (v.type == \"textarea\") {\r\n                input = field.appendChild(document.createElement(\"textarea\"));\r\n                input.spellcheck = false;\r\n                input.rows = 1;\r\n            } else {\r\n                input = field.appendChild(document.createElement(\"input\"));\r\n                input.type = \"text\";\r\n            }\r\n            input.required = !!v.required;\r\n            input.className = \"cert__input\";\r\n            v.value && (input.value = v.value);\r\n            v.class && input.classList.add(v.class);\r\n            v.placeholder && (input.placeholder = v.placeholder);\r\n            input.name = v.param.replace(\"#INDEX#\", this.items.length);\r\n\r\n            v.mask && Inputmask(v.mask).mask(input);\r\n\r\n            v.regexp && (input.pattern = v.regexp);\r\n        }\r\n\r\n        let datetime = info.appendChild(document.createElement(\"div\"));\r\n        datetime.className = \"cert__datetime\";\r\n\r\n        let datetimeFieldCheckbox = datetime.appendChild(document.createElement(\"div\"));\r\n        datetimeFieldCheckbox.className = \"cert__field _switch\";\r\n        datetimeFieldCheckbox.innerText = this.config.datetime.toggle.label;\r\n        this.config.datetime.toggle.class && datetimeFieldCheckbox.classList.add(this.config.datetime.toggle.class);\r\n\r\n        let datetimeLabel = datetimeFieldCheckbox.appendChild(document.createElement(\"label\"));\r\n        datetimeLabel.className = \"cert__switch\";\r\n\r\n        let datetimeCheckbox = datetimeLabel.appendChild(document.createElement(\"input\"));\r\n        datetimeCheckbox.type = \"checkbox\";\r\n        datetimeCheckbox.value = this.config.datetime.toggle.value;\r\n        datetimeCheckbox.checked = !!this.config.datetime.toggle.checked;\r\n        datetimeCheckbox.required = !!this.config.datetime.toggle.required;\r\n        datetimeCheckbox.name = this.config.datetime.toggle.param.replace(\"#INDEX#\", this.items.length);\r\n        datetimeCheckbox.addEventListener(\"change\", function () {\r\n            (this.checked || datetimeLabel.classList.remove('_active')) && datetimeLabel.classList.add('_active');\r\n        });\r\n\r\n        let datetimeField = datetime.appendChild(document.createElement(\"div\"));\r\n        datetimeField.className = \"cert__field\";\r\n        this.config.datetime.toggle.checked || datetimeField.classList.add('_hidden');\r\n\r\n        let datetimeInput = datetimeField.appendChild(document.createElement(\"input\"));\r\n        datetimeInput.className = \"cert__input\";\r\n        datetimeInput.type = \"text\";\r\n        this.config.datetime.value && (datetimeInput.value = this.config.datetime.value);\r\n        datetimeInput.required = !!this.config.datetime.required;\r\n        datetimeInput.name = this.config.datetime.param.replace(\"#INDEX#\", this.items.length);\r\n\r\n        new Flatpickr(datetimeInput, {\r\n            enableTime: true,\r\n            minDate: this.config.datetime.min,\r\n            maxDate: this.config.datetime.max,\r\n            defaultDate: (new Date()),\r\n            dateFormat: \"d.m.Y H:i\",\r\n            time_24hr: true,\r\n            disableMobile: \"true\",\r\n            locale: Russian,\r\n            altInput: true,\r\n            altFormat: \"j F Y в H:i\",\r\n            monthSelectorType: \"static\",\r\n        });\r\n\r\n        let timezoneInput = datetime.appendChild(document.createElement(\"input\"));\r\n        timezoneInput.type = \"hidden\";\r\n        timezoneInput.name = this.config.datetime.timezone.param.replace(\"#INDEX#\", this.items.length);\r\n        timezoneInput.value = Intl.DateTimeFormat().resolvedOptions().timeZone || \"\";\r\n\r\n        datetimeCheckbox.addEventListener(\"change\", function () {\r\n            if (this.checked) {\r\n                datetimeLabel.classList.add('_active');\r\n                datetimeField.classList.remove('_hidden');\r\n            } else {\r\n                datetimeField.classList.add('_hidden');\r\n            }\r\n        });\r\n\r\n\r\n        let action = info.appendChild(document.createElement(\"div\"));\r\n        action.className = \"cert__action\";\r\n\r\n        let save = action.appendChild(document.createElement(\"div\"));\r\n        save.innerText = \"Сохранить\";\r\n        save.tabIndex = 0;\r\n        save.className = \"cert__btn _save\";\r\n        save.addEventListener(\"click\", this.saveItem.bind(this, fieldset));\r\n        save.addEventListener(\"keyup\", function (event) {\r\n            event.code == \"Enter\" && this.saveItem(fieldset);\r\n        }.bind(this));\r\n\r\n        let edit = action.appendChild(document.createElement(\"div\"));\r\n        edit.innerText = \"Изменить\";\r\n        edit.tabIndex = 0;\r\n        edit.className = \"cert__btn _edit\";\r\n        edit.addEventListener(\"click\", this.editItem.bind(this, fieldset));\r\n        edit.addEventListener(\"keyup\", function (event) {\r\n            event.code == \"Enter\" && this.editItem(fieldset);\r\n        }.bind(this));\r\n\r\n        let remove = action.appendChild(document.createElement(\"div\"));\r\n        remove.innerText = \"Удалить\";\r\n        remove.tabIndex = 0;\r\n        remove.className = \"cert__btn _remove\";\r\n        remove.addEventListener(\"click\", this.removeItem.bind(this, fieldset));\r\n        remove.addEventListener(\"keyup\", function (event) {\r\n            event.code == \"Enter\" && this.removeItem(fieldset);\r\n        }.bind(this));\r\n\r\n        this.items.push(fieldset);\r\n    }\r\n\r\n    saveItem(item) {\r\n        if (this.validateItem(item)) {\r\n            item.disabled = true;\r\n            item.classList.add(\"_save\");\r\n            item.classList.remove(\"_new\", \"_edit\");\r\n        }\r\n        this.refreshCheckout();\r\n    }\r\n\r\n    editItem(item) {\r\n        item.disabled = false;\r\n        if (this.items.length > 1) {\r\n            item.classList.add(\"_edit\");\r\n            item.classList.remove(\"_new\", \"_save\");\r\n        } else {\r\n            item.classList.add(\"_new\");\r\n            item.classList.remove(\"_edit\", \"_save\");\r\n        }\r\n    }\r\n\r\n    removeItem(item) {\r\n        this.form.removeChild(item);\r\n        this.items.splice(this.items.indexOf(item), 1);\r\n        this.refreshCheckout();\r\n    }\r\n\r\n    validateItem(item) {\r\n        let isValid = true;\r\n\r\n        for (let input of item.querySelectorAll('[name]')) {\r\n            if (!input.validity.valid || input.inputmask && !input.inputmask.isValid()) {\r\n                //isValid && input.reportValidity();\r\n                isValid = false;\r\n                input.classList.add(\"_error\") || input.value || input.classList.add(\"_empty\");\r\n            } else {\r\n                input.classList.remove(\"_error\", \"_empty\");\r\n            }\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n    validate() {\r\n        return this.items.length > 0 && this.validateItem(this.form);\r\n    }\r\n\r\n    refreshCheckout(e) {\r\n        let value = 0;\r\n        for (let i of this.form.querySelectorAll('.cert__nominal input')) {\r\n            value += +String(i.value).replace(\" \", \"\");\r\n        }\r\n\r\n        let isValid = this.items.length > 0;\r\n        for (let input of this.form.querySelectorAll('[name]')) {\r\n            if (!input.validity.valid || input.inputmask && !input.inputmask.isValid()) {\r\n                isValid = false;\r\n                e instanceof Event && input === e.target && (input.classList.add(\"_error\") || input.value || input.classList.add(\"_empty\"));\r\n            } else {\r\n                e instanceof Event && input === e.target && (input.classList.remove(\"_error\", \"_empty\"));\r\n            }\r\n        }\r\n        this.checkout.firstElementChild.disabled = !isValid;\r\n\r\n        this.checkout.firstElementChild.innerText = (value && \"Оформить за \" + Inputmask.format(value, {alias: \"numeric\", groupSeparator: \" \"}) + \" ₽\") || \"Оформить\";\r\n    }\r\n\r\n    submit() {\r\n        if (this.validate()) {\r\n            for (let i of this.items) {\r\n                i.disabled = false;\r\n            }\r\n\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n};\r\n"],"sourceRoot":""}